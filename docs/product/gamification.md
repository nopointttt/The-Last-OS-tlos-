# Gamification Mechanics: Игровая Метафора "Digital Citadel"

Этот документ описывает систему удержания и мотивации пользователей в **The Last OS**. Мы превращаем процесс разработки и сопровождения системы в стратегическую игру по строительству и защите "Цифровой Цитадели".

---

## 1. Концепция: Digital Citadel (Цифровая Цитадель)

Ваше рабочее пространство (Workspace) — это ваша **База**. Она материализуется на Infinite Canvas как укрепленный город.

-   **Визуализация объектов (The Tech Village)**:
    -   **Здания (Modules / City Blocks)**: Каждый Wasm-актор или модуль кода отображается как 3D-здание (City Block). Дизайн здания отражает технологический стек (например, Rust-здания более строгие и индустриальные).
    -   **Стены (Security & Tests)**: Прочность стен вокруг модуля зависит от покрытия тестами и использования формально верифицированных библиотек (как `libcrux`).
    -   **Турели (AI-Sentinel)**: Автоматизированные системы безопасности (линтеры, детекторы аномалий), которые "отстреливают" попытки некорректного доступа. Визуально — это защитные башни с лазерными сенсорами.

---

## 1.1. Философия: Base Building
Разработка в tLOS — это не кодинг в IDE, это строительство вашей **Цифровой Цитадели** на вашей "Базе" (Home coordinates). Ваши сервисы — это не иконки, это постройки. Вы можете сказать своему "Агенту-Архитектору" изменить ваше пространство: "Добавь гостевую книгу здесь", и здание виджета мгновенно материализуется.

---

## 2. Visual Progression: От "Ржавчины" к "Сиянию"

Состояние системы передается через процедурные шейдерные эффекты, понятные без чтения логов.

### 2.1. Code Rust (Ржавчина кода)
Если модуль давно не обновлялся, имеет высокий **Code Churn** (переделки) или накопленный **Technical Debt**, он начинает визуально "ржаветь".
-   **Механика**: Алгоритм анализирует `LastModified` и `VulnerabilityScore`. Чем выше риск, тем больше на текстуре здания "коррозии".
-   **Мотивация**: Психологическое желание "очистить" базу стимулирует рефакторинг и обновления.

### 2.2. Shimmer & Glow (Сияние и Защита)
Модули с 100% покрытием тестами, активным AI-Sentinel и отсутствием долга получают эффект **Shimmer** (алмазный блеск) или защитное поле (**Glow**).
-   **Эффект**: Игрок видит свои достижения в качестве кода через эстетическое превосходство защищенных зон.

---

## 3. Social Raids (Bug Bounty как Осада)

Традиционные Bug Bounty скучны. В tLOS это — **Рейды**.

-   **Механика "Осады"**: Суверен (владелец базы) может опубликовать приглашение (Invite) на "Raiding party". Атакующие используют "exploit agents" (агентов-взломщиков), чтобы найти бреши.
-   **Участники**: Друзья или сертифицированные исследователи безопасности (Whitehats) пытаются найти уязвимости через контролируемые рейды.
-   **Ресурсная петля (Resources)**: Успешное написание кода и прохождение тестов генерирует "Compute-Gold", который тратится на апгрейд зданий (например, переход на PQC защиту).
-   **Награды (Reputation)**:
    -   Защитник получает **Reputation Tokens** за успешно отраженные атаки (подтвержденные AI-Sentinel).
    -   Атакующий получает токены за обнаруженные баги (missing tests), которые автоматически конвертируются в Verifiable Credentials.

---

## 4. Reputation-as-Currency (Репутация как Ключ)

Ваша репутация в tLOS — это не просто число, а ликвидный актив.

-   **Proof of Skill**: Репутация привязана к вашему **DID**.
-   **Access Control**: Высокая репутация в категории "Security" открывает доступ к участию в высокоуровневых рейдах и управлению критическими узлами Grid.
-   **Reputation Decay**: Если вы забрасываете свою базу и она "прогнивает", ваша репутация медленно снижается, требуя постоянного вовлечения в жизнь системы.

---

## 5. Техническая реализация

1.  **Rendering**: Three.js / WebGPU шейдеры для Rust/Shimmer эффектов.
2.  **Telemetry**: Анализатор в реальном времени собирает метрики из Git/wasmCloud логов.
3.  **Identity**: Интеграция с SSI/DID решениями для записи достижений.
